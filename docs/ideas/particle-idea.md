---

# 🎨 プロジェクト「Ethernet リバー」ビジュアル・コンセプト仕様書

**テーマ: "Organic Data Flow & Glowing Nodes" (有機的なデータ流と発光するノード)**

## 1\. コンセプト概要

従来の「上から下へ落ちるログ」のような表現ではなく、**ネットワークを「生き物」や「宇宙」のような有機的なシステム**として描きます。
IP アドレスを「星（ノード）」に見立て、その間を行き交うパケットを「光の粒子」として表現。粒子は直線のパスを通るのではなく、群れ（Flocking）となって互いに影響し合いながら、目的地へ向かって流動的に移動します。

---

## 2\. ビジュアル表現 (Aesthetics)

「綺麗な光の粒子」を実現するための核となる描画技法です。

### 2.1. 光の表現 (Bloom & Additive Blending)

粒子は単色の円ではなく、**発光体**として描画します。

-   **加算合成 (`blendMode(ADD)`)**: 粒子同士が重なる部分が白くサチュレーションし、強烈な輝き（Bloom）を生み出します。
-   **効果**: データの密度が高い場所（＝通信量が多い場所）ほど、眩い光の川となって浮かび上がります。

### 2.2. 残像と流体感 (Trails)

粒子は移動した後に微かな\*\*軌跡（トレイル）\*\*を残します。

-   **実装**: 毎フレーム背景を完全にクリアせず、半透明の黒でフェードさせることで実現。
-   **効果**: 単発の「点」ではなく、連続した「線」や「液体」のような滑らかな流れを表現します。

---

## 3\. 空間構成: "River of Nodes"

画面を一つのネットワーク空間として定義し、通信の構造を可視化します。

### 3.1. ノード配置 (Geography)

-   **右岸 (Local)**: ローカルネットワーク内の機器（PC, スマホ, IoT 機器）を画面右側に配置。
-   **左岸 (Remote)**: インターネット上のサーバー群（Google, AWS, etc.）を画面左側に配置。
-   **固定化**: 通信が発生した IP アドレスには画面上の座標を固定し、そこが粒子の「発生源」または「目的地」となります。

### 3.2. 不可視のパスと力場 (Invisible Paths)

-   **非直線移動**: 粒子はノード間を直線で結ぶのではなく、**ベジェ曲線**や**引力**に従って移動します。
-   **中継点**: ゲートウェイ（ルーター）を中継点として設定することで、すべての通信が一度ルーターに集まり、そこから拡散する「漏斗（じょうご）」のような美しい収束と拡散を描きます。

### 3.3. 群知能 (Flocking Simulation)

-   **結合 (Cohesion)**: 同じ目的地を持つ粒子はお互いに引き寄せ合い、太い「本流」を形成します。
-   **分離 (Separation)**: 粒子同士が近づきすぎると反発し、適度な距離感を保ちます。
    これにより、パケットは機械的な列ではなく、**魚の群れ**や**血管の中の血流**のような有機的な動きを見せます。

---

### 4. サイズと輝度の関係 (Scaling)

「小さいパケットほど明るく、大きいパケットほど重く」表現します。

-   **スケーリング**: 平方根スケール `sqrt(len)` を採用（最大 65535 バイト）。
    -   最小パケット (60B) → 約 5px
    -   最大パケット (64KB) → 約 15px
-   **輝度反比例**:
    -   **小さい粒子**: 輝度 100%。鋭く光る。
    -   **大きい粒子**: 輝度 40-60%。鈍く光り、背景に溶け込む「質量」を感じさせる。

---

## 5\. インタラクション (Physical Connection)

（※ここは別途フィジカル実装と連動）

-   **介入**: Kinect で認識した障害物（石）が「力場」として作用し、光の群れを物理的にせき止めたり、迂回させたりする。
-   **共鳴**: データの流量が増えると、画面全体が微妙に振動（シェイク）したり、照明が連動して明滅したりする。

---
